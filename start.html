<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.0.0/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-gui/dist/aframe-gui.min.js"></script>
    <script type="module" src="./src/start.js"></script>
    <link rel="stylesheet" href="./src/main.css" />
    <link rel="manifest" href="../manifest.webmanifest" />
    <link rel="icon" type="image/svg+xml" href="/icon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Experiment</title>
  </head>
  <body>
    <div id="splash">
      <div class="loading"></div>
    </div>
    <a-scene
      physics="driver: ammo; debug: false; debugDrawMode: 0; gravity: -9.8; stats: none;"
      stats="false"
      loading-screen="dotsColor: red; backgroundColor: black"
    >
      <a-assets>
        <img id="controller" src="/images/controller2.png" />
        <a-asset-item id="agent" src="/models/agent.glb"></a-asset-item>
        <a-asset-item id="stone" src="/models/stone_red.glb"></a-asset-item>
      </a-assets>

      <a-entity
        environment="
        preset: starry;
         "
      ></a-entity>

      <!-- BEGIN PLAYER -->
      <a-entity id="rig" position="0 1.6 6">
        <a-entity
          id="player"
          look-controls="pointerLockEnabled: false"
          position="0 1.6 0"
          camera
        >
        </a-entity>
        <a-entity
          id="mouseCursor"
          cursor="rayOrigin: mouse"
          raycaster="objects: [gui-interactable]"
        ></a-entity>
        <a-entity
          id="leftHand"
          laser-controls="hand: left"
          raycaster="objects: [gui-interactable]"
        ></a-entity>
        <a-entity
          id="rightHand"
          laser-controls="hand: right"
          raycaster="objects: [gui-interactable]"
        ></a-entity>
        <a-entity id="left-con" oculus-touch-controls="hand: left"></a-entity>
        <a-entity
          id="right-con"
          oculus-touch-controls="hand: right"
          haptics
        ></a-entity>
      </a-entity>
      <!-- END PLAYER -->

      <!-- BEGIN GUI -->
      <a-gui-flex-container
        flex-direction="column"
        justify-content="center"
        align-items="normal"
        component-padding="0.5"
        opacity="0.7"
        width="5.5"
        height="5.5"
        panel-rounded="0.2"
        position="0 3 0"
      >
        <a-gui-label
          width="4.5"
          height="1"
          value="Experiment"
          font-size="0.45"
          line-height="1"
          letter-spacing="0"
          opacity="0.7"
          background-color="#000000"
          text-depth="0.2"
          font-color="#ffffff"
          margin="0 0 0.4 0"
        >
        </a-gui-label>
        

        <a-gui-button
          id="startButton"
          width="2.5"
          height="0.6"
          value="Start Game"
          font-size="0.3"
          gap="0.1"
          font-color="#ffffff"
          background-color="#000"
          border-color="#00E5FF"
          bevel="true"
        ></a-gui-button>
      </a-gui-flex-container>
      <!-- END GUI -->
      <a-entity gltf-model="#stone" position="-5 0.4 0"></a-entity>
      <a-entity
        gltf-model="#agent"
        animation-mixer="clip: wave;"
        position="5 0 0"
        rotation="0 -45 0"
        scale="1.5 1.5 1.5"
      ></a-entity>

      <a-image src="#controller" position="-3 3 1" scale="3 3 3">
    </a-scene>
  </body>
</html>
